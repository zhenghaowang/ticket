import{u as Re,a as Ve}from"./use-dark.e02dc852.js";import{r as q,E as Fe,G as Y,c as G,o as U,H as Ce,I as K,h as T,g as Q,J as ze,w as M,K as rt,L as nt,M as ut,P as st,N as ct,O as ee,S as dt,U as oe,V as fe,W as Me,X as he,Y as Se,Z as me,s as vt,a as f,_ as ft,$ as We,a0 as ht,a1 as je,x as we,a2 as j,a3 as _e,a4 as be,a5 as $e,a6 as mt,a7 as bt,a8 as yt,a9 as Qe,aa as I,ab as xe,d as Ne,ac as qe,ad as Ue,ae as gt,af as ye,ag as ie,ah as pt}from"./index.579c618f.js";function zt(){const e=q(!Fe.value);return e.value===!1&&Y(()=>{e.value=!0}),e}const Xe=typeof ResizeObserver!="undefined",Oe=Xe===!0?{}:{style:"display:block;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;width:100%;overflow:hidden;pointer-events:none;z-index:-1;",url:"about:blank"};var re=G({name:"QResizeObserver",props:{debounce:{type:[String,Number],default:100}},emits:["resize"],setup(e,{emit:i}){let n=null,u,t={width:-1,height:-1};function a(v){v===!0||e.debounce===0||e.debounce==="0"?s():n===null&&(n=setTimeout(s,e.debounce))}function s(){if(n!==null&&(clearTimeout(n),n=null),u){const{offsetWidth:v,offsetHeight:d}=u;(v!==t.width||d!==t.height)&&(t={width:v,height:d},i("resize",t))}}const{proxy:l}=Q();if(Xe===!0){let v;const d=r=>{u=l.$el.parentNode,u?(v=new ResizeObserver(a),v.observe(u),s()):r!==!0&&K(()=>{d(!0)})};return Y(()=>{d()}),U(()=>{n!==null&&clearTimeout(n),v!==void 0&&(v.disconnect!==void 0?v.disconnect():u&&v.unobserve(u))}),Ce}else{let r=function(){n!==null&&(clearTimeout(n),n=null),d!==void 0&&(d.removeEventListener!==void 0&&d.removeEventListener("resize",a,ze.passive),d=void 0)},C=function(){r(),u&&u.contentDocument&&(d=u.contentDocument.defaultView,d.addEventListener("resize",a,ze.passive),s())};const v=zt();let d;return Y(()=>{K(()=>{u=l.$el,u&&C()})}),U(r),l.trigger=a,()=>{if(v.value===!0)return T("object",{style:Oe.style,tabindex:-1,type:"text/html",data:Oe.url,"aria-hidden":"true",onLoad:C})}}}});const{passive:ke}=ze,St=["both","horizontal","vertical"];var Ie=G({name:"QScrollObserver",props:{axis:{type:String,validator:e=>St.includes(e),default:"vertical"},debounce:[String,Number],scrollTarget:{default:void 0}},emits:["scroll"],setup(e,{emit:i}){const n={position:{top:0,left:0},direction:"down",directionChanged:!1,delta:{top:0,left:0},inflectionPoint:{top:0,left:0}};let u=null,t,a;M(()=>e.scrollTarget,()=>{v(),l()});function s(){u!==null&&u();const C=Math.max(0,nt(t)),g=ut(t),z={top:C-n.position.top,left:g-n.position.left};if(e.axis==="vertical"&&z.top===0||e.axis==="horizontal"&&z.left===0)return;const b=Math.abs(z.top)>=Math.abs(z.left)?z.top<0?"up":"down":z.left<0?"left":"right";n.position={top:C,left:g},n.directionChanged=n.direction!==b,n.delta=z,n.directionChanged===!0&&(n.direction=b,n.inflectionPoint=n.position),i("scroll",{...n})}function l(){t=rt(a,e.scrollTarget),t.addEventListener("scroll",d,ke),d(!0)}function v(){t!==void 0&&(t.removeEventListener("scroll",d,ke),t=void 0)}function d(C){if(C===!0||e.debounce===0||e.debounce==="0")s();else if(u===null){const[g,z]=e.debounce?[setTimeout(s,e.debounce),clearTimeout]:[requestAnimationFrame(s),cancelAnimationFrame];u=()=>{z(g),u=null}}}const{proxy:r}=Q();return M(()=>r.$q.lang.rtl,s),Y(()=>{a=r.$el.parentNode,l()}),U(()=>{u!==null&&u(),v()}),Object.assign(r,{trigger:d,getPosition:()=>n}),Ce}});const Te={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},wt=Object.keys(Te);Te.all=!0;function Le(e){const i={};for(const n of wt)e[n]===!0&&(i[n]=!0);return Object.keys(i).length===0?Te:(i.horizontal===!0?i.left=i.right=!0:i.left===!0&&i.right===!0&&(i.horizontal=!0),i.vertical===!0?i.up=i.down=!0:i.up===!0&&i.down===!0&&(i.vertical=!0),i.horizontal===!0&&i.vertical===!0&&(i.all=!0),i)}const Ct=["INPUT","TEXTAREA"];function Ee(e,i){return i.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof i.handler=="function"&&Ct.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(i.uid)===-1)}function qt(){if(window.getSelection!==void 0){const e=window.getSelection();e.empty!==void 0?e.empty():e.removeAllRanges!==void 0&&(e.removeAllRanges(),st.is.mobile!==!0&&e.addRange(document.createRange()))}else document.selection!==void 0&&document.selection.empty()}function ge(e,i,n){const u=Se(e);let t,a=u.left-i.event.x,s=u.top-i.event.y,l=Math.abs(a),v=Math.abs(s);const d=i.direction;d.horizontal===!0&&d.vertical!==!0?t=a<0?"left":"right":d.horizontal!==!0&&d.vertical===!0?t=s<0?"up":"down":d.up===!0&&s<0?(t="up",l>v&&(d.left===!0&&a<0?t="left":d.right===!0&&a>0&&(t="right"))):d.down===!0&&s>0?(t="down",l>v&&(d.left===!0&&a<0?t="left":d.right===!0&&a>0&&(t="right"))):d.left===!0&&a<0?(t="left",l<v&&(d.up===!0&&s<0?t="up":d.down===!0&&s>0&&(t="down"))):d.right===!0&&a>0&&(t="right",l<v&&(d.up===!0&&s<0?t="up":d.down===!0&&s>0&&(t="down")));let r=!1;if(t===void 0&&n===!1){if(i.event.isFirst===!0||i.event.lastDir===void 0)return{};t=i.event.lastDir,r=!0,t==="left"||t==="right"?(u.left-=a,l=0,a=0):(u.top-=s,v=0,s=0)}return{synthetic:r,payload:{evt:e,touch:i.event.mouse!==!0,mouse:i.event.mouse===!0,position:u,direction:t,isFirst:i.event.isFirst,isFinal:n===!0,duration:Date.now()-i.event.time,distance:{x:l,y:v},offset:{x:a,y:s},delta:{x:u.left-i.event.lastX,y:u.top-i.event.lastY}}}}let Tt=0;var te=ct({name:"touch-pan",beforeMount(e,{value:i,modifiers:n}){if(n.mouse!==!0&&ee.has.touch!==!0)return;function u(a,s){n.mouse===!0&&s===!0?vt(a):(n.stop===!0&&he(a),n.prevent===!0&&Me(a))}const t={uid:"qvtp_"+Tt++,handler:i,modifiers:n,direction:Le(n),noop:Ce,mouseStart(a){Ee(a,t)&&dt(a)&&(oe(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(a,!0))},touchStart(a){if(Ee(a,t)){const s=a.target;oe(t,"temp",[[s,"touchmove","move","notPassiveCapture"],[s,"touchcancel","end","passiveCapture"],[s,"touchend","end","passiveCapture"]]),t.start(a)}},start(a,s){if(ee.is.firefox===!0&&fe(e,!0),t.lastEvt=a,s===!0||n.stop===!0){if(t.direction.all!==!0&&(s!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const d=a.type.indexOf("mouse")>-1?new MouseEvent(a.type,a):new TouchEvent(a.type,a);a.defaultPrevented===!0&&Me(d),a.cancelBubble===!0&&he(d),Object.assign(d,{qKeyEvent:a.qKeyEvent,qClickOutside:a.qClickOutside,qAnchorHandled:a.qAnchorHandled,qClonedBy:a.qClonedBy===void 0?[t.uid]:a.qClonedBy.concat(t.uid)}),t.initialEvent={target:a.target,event:d}}he(a)}const{left:l,top:v}=Se(a);t.event={x:l,y:v,time:Date.now(),mouse:s===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:v}},move(a){if(t.event===void 0)return;const s=Se(a),l=s.left-t.event.x,v=s.top-t.event.y;if(l===0&&v===0)return;t.lastEvt=a;const d=t.event.mouse===!0,r=()=>{u(a,d);let z;n.preserveCursor!==!0&&n.preservecursor!==!0&&(z=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),d===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),qt(),t.styleCleanup=b=>{if(t.styleCleanup=void 0,z!==void 0&&(document.documentElement.style.cursor=z),document.body.classList.remove("non-selectable"),d===!0){const $=()=>{document.body.classList.remove("no-pointer-events--children")};b!==void 0?setTimeout(()=>{$(),b()},50):$()}else b!==void 0&&b()}};if(t.event.detected===!0){t.event.isFirst!==!0&&u(a,t.event.mouse);const{payload:z,synthetic:b}=ge(a,t,!1);z!==void 0&&(t.handler(z)===!1?t.end(a):(t.styleCleanup===void 0&&t.event.isFirst===!0&&r(),t.event.lastX=z.position.left,t.event.lastY=z.position.top,t.event.lastDir=b===!0?void 0:z.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||d===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){r(),t.event.detected=!0,t.move(a);return}const C=Math.abs(l),g=Math.abs(v);C!==g&&(t.direction.horizontal===!0&&C>g||t.direction.vertical===!0&&C<g||t.direction.up===!0&&C<g&&v<0||t.direction.down===!0&&C<g&&v>0||t.direction.left===!0&&C>g&&l<0||t.direction.right===!0&&C>g&&l>0?(t.event.detected=!0,t.move(a)):t.end(a,!0))},end(a,s){if(t.event!==void 0){if(me(t,"temp"),ee.is.firefox===!0&&fe(e,!1),s===!0)t.styleCleanup!==void 0&&t.styleCleanup(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(ge(a===void 0?t.lastEvt:a,t).payload);const{payload:l}=ge(a===void 0?t.lastEvt:a,t,!0),v=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(v):v()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,n.mouse===!0){const a=n.mouseCapture===!0||n.mousecapture===!0?"Capture":"";oe(t,"main",[[e,"mousedown","mouseStart",`passive${a}`]])}ee.has.touch===!0&&oe(t,"main",[[e,"touchstart","touchStart",`passive${n.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,i){const n=e.__qtouchpan;n!==void 0&&(i.oldValue!==i.value&&(typeof value!="function"&&n.end(),n.handler=i.value),n.direction=Le(i.modifiers))},beforeUnmount(e){const i=e.__qtouchpan;i!==void 0&&(i.event!==void 0&&i.end(),me(i,"main"),me(i,"temp"),ee.is.firefox===!0&&fe(e,!1),i.styleCleanup!==void 0&&i.styleCleanup(),delete e.__qtouchpan)}});const Be=["vertical","horizontal"],pe={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},He={prevent:!0,mouse:!0,mouseAllDir:!0},Ae=e=>e>=250?50:Math.ceil(e/5);var Bt=G({name:"QScrollArea",props:{...Re,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:i,emit:n}){const u=q(!1),t=q(!1),a=q(!1),s={vertical:q(0),horizontal:q(0)},l={vertical:{ref:q(null),position:q(0),size:q(0)},horizontal:{ref:q(null),position:q(0),size:q(0)}},{proxy:v}=Q(),d=Ve(e,v.$q);let r=null,C;const g=q(null),z=f(()=>"q-scrollarea"+(d.value===!0?" q-scrollarea--dark":""));l.vertical.percentage=f(()=>{const c=l.vertical.size.value-s.vertical.value;if(c<=0)return 0;const h=j(l.vertical.position.value/c,0,1);return Math.round(h*1e4)/1e4}),l.vertical.thumbHidden=f(()=>(e.visible===null?a.value:e.visible)!==!0&&u.value===!1&&t.value===!1||l.vertical.size.value<=s.vertical.value+1),l.vertical.thumbStart=f(()=>l.vertical.percentage.value*(s.vertical.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=f(()=>Math.round(j(s.vertical.value*s.vertical.value/l.vertical.size.value,Ae(s.vertical.value),s.vertical.value))),l.vertical.style=f(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`})),l.vertical.thumbClass=f(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=f(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=f(()=>{const c=l.horizontal.size.value-s.horizontal.value;if(c<=0)return 0;const h=j(Math.abs(l.horizontal.position.value)/c,0,1);return Math.round(h*1e4)/1e4}),l.horizontal.thumbHidden=f(()=>(e.visible===null?a.value:e.visible)!==!0&&u.value===!1&&t.value===!1||l.horizontal.size.value<=s.horizontal.value+1),l.horizontal.thumbStart=f(()=>l.horizontal.percentage.value*(s.horizontal.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=f(()=>Math.round(j(s.horizontal.value*s.horizontal.value/l.horizontal.size.value,Ae(s.horizontal.value),s.horizontal.value))),l.horizontal.style=f(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[v.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`})),l.horizontal.thumbClass=f(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=f(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const b=f(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle),$=[[te,c=>{A(c,"vertical")},void 0,{vertical:!0,...He}]],_=[[te,c=>{A(c,"horizontal")},void 0,{horizontal:!0,...He}]];function S(){const c={};return Be.forEach(h=>{const w=l[h];c[h+"Position"]=w.position.value,c[h+"Percentage"]=w.percentage.value,c[h+"Size"]=w.size.value,c[h+"ContainerSize"]=s[h].value}),c}const m=ft(()=>{const c=S();c.ref=v,n("scroll",c)},0);function x(c,h,w){if(Be.includes(c)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(c==="vertical"?_e:be)(g.value,h,w)}function y({height:c,width:h}){let w=!1;s.vertical.value!==c&&(s.vertical.value=c,w=!0),s.horizontal.value!==h&&(s.horizontal.value=h,w=!0),w===!0&&H()}function P({position:c}){let h=!1;l.vertical.position.value!==c.top&&(l.vertical.position.value=c.top,h=!0),l.horizontal.position.value!==c.left&&(l.horizontal.position.value=c.left,h=!0),h===!0&&H()}function O({height:c,width:h}){l.horizontal.size.value!==h&&(l.horizontal.size.value=h,H()),l.vertical.size.value!==c&&(l.vertical.size.value=c,H())}function A(c,h){const w=l[h];if(c.isFirst===!0){if(w.thumbHidden.value===!0)return;C=w.position.value,t.value=!0}else if(t.value!==!0)return;c.isFinal===!0&&(t.value=!1);const L=pe[h],X=s[h].value,ne=(w.size.value-X)/(X-w.thumbSize.value),ue=c.distance[L.dist],le=C+(c.direction===L.dir?1:-1)*ue*ne;J(le,h)}function R(c,h){const w=l[h];if(w.thumbHidden.value!==!0){const L=c[pe[h].offset];if(L<w.thumbStart.value||L>w.thumbStart.value+w.thumbSize.value){const X=L-w.thumbSize.value/2;J(X/s[h].value*w.size.value,h)}w.ref.value!==null&&w.ref.value.dispatchEvent(new MouseEvent(c.type,c))}}function D(c){R(c,"vertical")}function B(c){R(c,"horizontal")}function H(){u.value=!0,r!==null&&clearTimeout(r),r=setTimeout(()=>{r=null,u.value=!1},e.delay),e.onScroll!==void 0&&m()}function J(c,h){g.value[pe[h].scroll]=c}function V(){a.value=!0}function Z(){a.value=!1}let N=null;return M(()=>v.$q.lang.rtl,c=>{g.value!==null&&be(g.value,Math.abs(l.horizontal.position.value)*(c===!0?-1:1))}),We(()=>{N={top:l.vertical.position.value,left:l.horizontal.position.value}}),ht(()=>{if(N===null)return;const c=g.value;c!==null&&(be(c,N.left),_e(c,N.top))}),U(m.cancel),Object.assign(v,{getScrollTarget:()=>g.value,getScroll:S,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:x,setScrollPercentage(c,h,w){x(c,h*(l[c].size.value-s[c].value)*(c==="horizontal"&&v.$q.lang.rtl===!0?-1:1),w)}}),()=>T("div",{class:z.value,onMouseenter:V,onMouseleave:Z},[T("div",{ref:g,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[T("div",{class:"q-scrollarea__content absolute",style:b.value},je(i.default,[T(re,{debounce:0,onResize:O})])),T(Ie,{axis:"both",onScroll:P})]),T(re,{debounce:0,onResize:y}),T("div",{class:l.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:D}),T("div",{class:l.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:B}),we(T("div",{ref:l.vertical.ref,class:l.vertical.thumbClass.value,style:l.vertical.style.value,"aria-hidden":"true"}),$),we(T("div",{ref:l.horizontal.ref,class:l.horizontal.thumbClass.value,style:l.horizontal.style.value,"aria-hidden":"true"}),_)])}});function Pt(e,i,n){let u;function t(){u!==void 0&&($e.remove(u),u=void 0)}return U(()=>{e.value===!0&&t()}),{removeFromHistory:t,addToHistory(){u={condition:()=>n.value===!0,handler:i},$e.add(u)}}}const Mt={modelValue:{type:Boolean,default:null},"onUpdate:modelValue":[Function,Array]},_t=["beforeShow","show","beforeHide","hide"];function $t({showing:e,canShow:i,hideOnRouteChange:n,handleShow:u,handleHide:t,processOnMount:a}){const s=Q(),{props:l,emit:v,proxy:d}=s;let r;function C(m){e.value===!0?b(m):g(m)}function g(m){if(l.disable===!0||m!==void 0&&m.qAnchorHandled===!0||i!==void 0&&i(m)!==!0)return;const x=l["onUpdate:modelValue"]!==void 0;x===!0&&(v("update:modelValue",!0),r=m,K(()=>{r===m&&(r=void 0)})),(l.modelValue===null||x===!1)&&z(m)}function z(m){e.value!==!0&&(e.value=!0,v("beforeShow",m),u!==void 0?u(m):v("show",m))}function b(m){if(l.disable===!0)return;const x=l["onUpdate:modelValue"]!==void 0;x===!0&&(v("update:modelValue",!1),r=m,K(()=>{r===m&&(r=void 0)})),(l.modelValue===null||x===!1)&&$(m)}function $(m){e.value!==!1&&(e.value=!1,v("beforeHide",m),t!==void 0?t(m):v("hide",m))}function _(m){l.disable===!0&&m===!0?l["onUpdate:modelValue"]!==void 0&&v("update:modelValue",!1):m===!0!==e.value&&(m===!0?z:$)(r)}M(()=>l.modelValue,_),n!==void 0&&mt(s)===!0&&M(()=>d.$route.fullPath,()=>{n.value===!0&&e.value===!0&&b()}),a===!0&&Y(()=>{_(l.modelValue)});const S={show:g,hide:b,toggle:C};return Object.assign(d,S),S}function xt(){let e;return{preventBodyScroll(i){i!==e&&(e!==void 0||i===!0)&&(e=i,bt(i))}}}function Ot(){let e=null;const i=Q();function n(){e!==null&&(clearTimeout(e),e=null)}return We(n),U(n),{removeTimeout:n,registerTimeout(u,t){n(),yt(i)===!1&&(e=setTimeout(u,t))}}}const De=150;var Ht=G({name:"QDrawer",inheritAttrs:!1,props:{...Mt,...Re,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[..._t,"onLayout","miniState"],setup(e,{slots:i,emit:n,attrs:u}){const t=Q(),{proxy:{$q:a}}=t,s=Ve(e,a),{preventBodyScroll:l}=xt(),{registerTimeout:v,removeTimeout:d}=Ot(),r=Qe(qe,I);if(r===I)return console.error("QDrawer needs to be child of QLayout"),I;let C,g=null,z;const b=q(e.behavior==="mobile"||e.behavior!=="desktop"&&r.totalWidth.value<=e.breakpoint),$=f(()=>e.mini===!0&&b.value!==!0),_=f(()=>$.value===!0?e.miniWidth:e.width),S=q(e.showIfAbove===!0&&b.value===!1?!0:e.modelValue===!0),m=f(()=>e.persistent!==!0&&(b.value===!0||X.value===!0));function x(o,p){if(A(),o!==!1&&r.animate(),E(0),b.value===!0){const k=r.instances[c.value];k!==void 0&&k.belowBreakpoint===!0&&k.hide(!1),F(1),r.isContainer.value!==!0&&l(!0)}else F(0),o!==!1&&ce(!1);v(()=>{o!==!1&&ce(!0),p!==!0&&n("show",o)},De)}function y(o,p){R(),o!==!1&&r.animate(),F(0),E(H.value*_.value),de(),p!==!0?v(()=>{n("hide",o)},De):d()}const{show:P,hide:O}=$t({showing:S,hideOnRouteChange:m,handleShow:x,handleHide:y}),{addToHistory:A,removeFromHistory:R}=Pt(S,O,m),D={belowBreakpoint:b,hide:O},B=f(()=>e.side==="right"),H=f(()=>(a.lang.rtl===!0?-1:1)*(B.value===!0?1:-1)),J=q(0),V=q(!1),Z=q(!1),N=q(_.value*H.value),c=f(()=>B.value===!0?"left":"right"),h=f(()=>S.value===!0&&b.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:_.value:0),w=f(()=>e.overlay===!0||e.miniToOverlay===!0||r.view.value.indexOf(B.value?"R":"L")>-1||a.platform.is.ios===!0&&r.isContainer.value===!0),L=f(()=>e.overlay===!1&&S.value===!0&&b.value===!1),X=f(()=>e.overlay===!0&&S.value===!0&&b.value===!1),ne=f(()=>"fullscreen q-drawer__backdrop"+(S.value===!1&&V.value===!1?" hidden":"")),ue=f(()=>({backgroundColor:`rgba(0,0,0,${J.value*.4})`})),le=f(()=>B.value===!0?r.rows.value.top[2]==="r":r.rows.value.top[0]==="l"),Ye=f(()=>B.value===!0?r.rows.value.bottom[2]==="r":r.rows.value.bottom[0]==="l"),Ke=f(()=>{const o={};return r.header.space===!0&&le.value===!1&&(w.value===!0?o.top=`${r.header.offset}px`:r.header.space===!0&&(o.top=`${r.header.size}px`)),r.footer.space===!0&&Ye.value===!1&&(w.value===!0?o.bottom=`${r.footer.offset}px`:r.footer.space===!0&&(o.bottom=`${r.footer.size}px`)),o}),Ge=f(()=>{const o={width:`${_.value}px`,transform:`translateX(${N.value}px)`};return b.value===!0?o:Object.assign(o,Ke.value)}),Je=f(()=>"q-drawer__content fit "+(r.isContainer.value!==!0?"scroll":"overflow-auto")),Ze=f(()=>`q-drawer q-drawer--${e.side}`+(Z.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(s.value===!0?" q-drawer--dark q-dark":"")+(V.value===!0?" no-transition":S.value===!0?"":" q-layout--prevent-focus")+(b.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${$.value===!0?"mini":"standard"}`+(w.value===!0||L.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(le.value===!0?" q-drawer--top-padding":""))),et=f(()=>{const o=a.lang.rtl===!0?e.side:c.value;return[[te,ot,void 0,{[o]:!0,mouse:!0}]]}),tt=f(()=>{const o=a.lang.rtl===!0?c.value:e.side;return[[te,Pe,void 0,{[o]:!0,mouse:!0}]]}),lt=f(()=>{const o=a.lang.rtl===!0?c.value:e.side;return[[te,Pe,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function se(){it(b,e.behavior==="mobile"||e.behavior!=="desktop"&&r.totalWidth.value<=e.breakpoint)}M(b,o=>{o===!0?(C=S.value,S.value===!0&&O(!1)):e.overlay===!1&&e.behavior!=="mobile"&&C!==!1&&(S.value===!0?(E(0),F(0),de()):P(!1))}),M(()=>e.side,(o,p)=>{r.instances[p]===D&&(r.instances[p]=void 0,r[p].space=!1,r[p].offset=0),r.instances[o]=D,r[o].size=_.value,r[o].space=L.value,r[o].offset=h.value}),M(r.totalWidth,()=>{(r.isContainer.value===!0||document.qScrollPrevented!==!0)&&se()}),M(()=>e.behavior+e.breakpoint,se),M(r.isContainer,o=>{S.value===!0&&l(o!==!0),o===!0&&se()}),M(r.scrollbarWidth,()=>{E(S.value===!0?0:void 0)}),M(h,o=>{W("offset",o)}),M(L,o=>{n("onLayout",o),W("space",o)}),M(B,()=>{E()}),M(_,o=>{E(),ve(e.miniToOverlay,o)}),M(()=>e.miniToOverlay,o=>{ve(o,_.value)}),M(()=>a.lang.rtl,()=>{E()}),M(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(at(),r.animate())}),M($,o=>{n("miniState",o)});function E(o){o===void 0?K(()=>{o=S.value===!0?0:_.value,E(H.value*o)}):(r.isContainer.value===!0&&B.value===!0&&(b.value===!0||Math.abs(o)===_.value)&&(o+=H.value*r.scrollbarWidth.value),N.value=o)}function F(o){J.value=o}function ce(o){const p=o===!0?"remove":r.isContainer.value!==!0?"add":"";p!==""&&document.body.classList[p]("q-body--drawer-toggle")}function at(){g!==null&&clearTimeout(g),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),Z.value=!0,g=setTimeout(()=>{g=null,Z.value=!1,t&&t.proxy&&t.proxy.$el&&t.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ot(o){if(S.value!==!1)return;const p=_.value,k=j(o.distance.x,0,p);if(o.isFinal===!0){k>=Math.min(75,p)===!0?P():(r.animate(),F(0),E(H.value*p)),V.value=!1;return}E((a.lang.rtl===!0?B.value!==!0:B.value)?Math.max(p-k,0):Math.min(0,k-p)),F(j(k/p,0,1)),o.isFirst===!0&&(V.value=!0)}function Pe(o){if(S.value!==!0)return;const p=_.value,k=o.direction===e.side,ae=(a.lang.rtl===!0?k!==!0:k)?j(o.distance.x,0,p):0;if(o.isFinal===!0){Math.abs(ae)<Math.min(75,p)===!0?(r.animate(),F(1),E(0)):O(),V.value=!1;return}E(H.value*ae),F(j(1-ae/p,0,1)),o.isFirst===!0&&(V.value=!0)}function de(){l(!1),ce(!0)}function W(o,p){r.update(e.side,o,p)}function it(o,p){o.value!==p&&(o.value=p)}function ve(o,p){W("size",o===!0?e.miniWidth:p)}return r.instances[e.side]=D,ve(e.miniToOverlay,_.value),W("space",L.value),W("offset",h.value),e.showIfAbove===!0&&e.modelValue!==!0&&S.value===!0&&e["onUpdate:modelValue"]!==void 0&&n("update:modelValue",!0),Y(()=>{n("onLayout",L.value),n("miniState",$.value),C=e.showIfAbove===!0;const o=()=>{(S.value===!0?x:y)(!1,!0)};if(r.totalWidth.value!==0){K(o);return}z=M(r.totalWidth,()=>{z(),z=void 0,S.value===!1&&e.showIfAbove===!0&&b.value===!1?P(!1):o()})}),U(()=>{z!==void 0&&z(),g!==null&&(clearTimeout(g),g=null),S.value===!0&&de(),r.instances[e.side]===D&&(r.instances[e.side]=void 0,W("size",0),W("offset",0),W("space",!1))}),()=>{const o=[];b.value===!0&&(e.noSwipeOpen===!1&&o.push(we(T("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),et.value)),o.push(xe("div",{ref:"backdrop",class:ne.value,style:ue.value,"aria-hidden":"true",onClick:O},void 0,"backdrop",e.noSwipeBackdrop!==!0&&S.value===!0,()=>lt.value)));const p=$.value===!0&&i.mini!==void 0,k=[T("div",{...u,key:""+p,class:[Je.value,u.class]},p===!0?i.mini():Ne(i.default))];return e.elevated===!0&&S.value===!0&&k.push(T("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(xe("aside",{ref:"content",class:Ze.value,style:Ge.value},k,"contentclose",e.noSwipeClose!==!0&&b.value===!0,()=>tt.value)),T("div",{class:"q-drawer-container"},o)}}}),At=G({name:"QPageContainer",setup(e,{slots:i}){const{proxy:{$q:n}}=Q(),u=Qe(qe,I);if(u===I)return console.error("QPageContainer needs to be child of QLayout"),I;Ue(gt,!0);const t=f(()=>{const a={};return u.header.space===!0&&(a.paddingTop=`${u.header.size}px`),u.right.space===!0&&(a[`padding${n.lang.rtl===!0?"Left":"Right"}`]=`${u.right.size}px`),u.footer.space===!0&&(a.paddingBottom=`${u.footer.size}px`),u.left.space===!0&&(a[`padding${n.lang.rtl===!0?"Right":"Left"}`]=`${u.left.size}px`),a});return()=>T("div",{class:"q-page-container",style:t.value},Ne(i.default))}}),Dt=G({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:i,emit:n}){const{proxy:{$q:u}}=Q(),t=q(null),a=q(u.screen.height),s=q(e.container===!0?0:u.screen.width),l=q({position:0,direction:"down",inflectionPoint:0}),v=q(0),d=q(Fe.value===!0?0:ye()),r=f(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),C=f(()=>e.container===!1?{minHeight:u.screen.height+"px"}:null),g=f(()=>d.value!==0?{[u.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),z=f(()=>d.value!==0?{[u.lang.rtl===!0?"right":"left"]:0,[u.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function b(y){if(e.container===!0||document.qScrollPrevented!==!0){const P={position:y.position.top,direction:y.direction,directionChanged:y.directionChanged,inflectionPoint:y.inflectionPoint.top,delta:y.delta.top};l.value=P,e.onScroll!==void 0&&n("scroll",P)}}function $(y){const{height:P,width:O}=y;let A=!1;a.value!==P&&(A=!0,a.value=P,e.onScrollHeight!==void 0&&n("scrollHeight",P),S()),s.value!==O&&(A=!0,s.value=O),A===!0&&e.onResize!==void 0&&n("resize",y)}function _({height:y}){v.value!==y&&(v.value=y,S())}function S(){if(e.container===!0){const y=a.value>v.value?ye():0;d.value!==y&&(d.value=y)}}let m=null;const x={instances:{},view:f(()=>e.view),isContainer:f(()=>e.container),rootRef:t,height:a,containerHeight:v,scrollbarWidth:d,totalWidth:f(()=>s.value+d.value),rows:f(()=>{const y=e.view.toLowerCase().split(" ");return{top:y[0].split(""),middle:y[1].split(""),bottom:y[2].split("")}}),header:ie({size:0,offset:0,space:!1}),right:ie({size:300,offset:0,space:!1}),footer:ie({size:0,offset:0,space:!1}),left:ie({size:300,offset:0,space:!1}),scroll:l,animate(){m!==null?clearTimeout(m):document.body.classList.add("q-body--layout-animate"),m=setTimeout(()=>{m=null,document.body.classList.remove("q-body--layout-animate")},155)},update(y,P,O){x[y][P]=O}};if(Ue(qe,x),ye()>0){let O=function(){y=null,P.classList.remove("hide-scrollbar")},A=function(){if(y===null){if(P.scrollHeight>u.screen.height)return;P.classList.add("hide-scrollbar")}else clearTimeout(y);y=setTimeout(O,300)},R=function(D){y!==null&&D==="remove"&&(clearTimeout(y),O()),window[`${D}EventListener`]("resize",A)},y=null;const P=document.body;M(()=>e.container!==!0?"add":"remove",R),e.container!==!0&&R("add"),pt(()=>{R("remove")})}return()=>{const y=je(i.default,[T(Ie,{onScroll:b}),T(re,{onResize:$})]),P=T("div",{class:r.value,style:C.value,ref:e.container===!0?void 0:t,tabindex:-1},y);return e.container===!0?T("div",{class:"q-layout-container overflow-hidden",ref:t},[T(re,{onResize:_}),T("div",{class:"absolute-full",style:g.value},[T("div",{class:"scroll",style:z.value},[P])])]):P}}});export{Dt as Q,Bt as a,Ht as b,At as c,_t as d,Ot as e,$t as f,Pt as g,xt as h,Mt as u};
