import{t as ie}from"./fonts.b8599ed4.js";import{j as ae,a as U,m as V,t as j,C as i,ai as r,B as d,A as p,F as W,v as ne,aF as de,aD as ue,aE as y,aG as le,aH as oe}from"./index.bc6d43c3.js";const R=L=>(le("data-v-17439d13"),L=L(),oe(),L),re={class:"ticket-page"},se=R(()=>i("div",{class:"ticket-title"},[i("div",null,"\xA0\u8D39\u7528\u62A5\u9500\u5355\xA0")],-1)),ve={class:"ticket-subject"},me=R(()=>i("span",null,"\u62A5\u9500\u90E8\u95E8\uFF1A",-1)),be=["contenteditable"],ge=["contenteditable"],pe=["contenteditable"],ye={class:"ticket-content"},he=ue('<div style="grid-area:1 / 1 / 3 / 7;" data-v-17439d13>\u62A5\u9500\u9879\u76EE</div><div style="grid-area:1 / 7 / 3 / 19;" data-v-17439d13>\u6458\xA0\xA0\xA0\xA0\u8981</div><div style="grid-area:1 / 19 / 2 / 28;" data-v-17439d13>\u91D1\u989D</div><div style="grid-area:2 / 19 / 3 / 20;" data-v-17439d13>\u767E</div><div style="grid-area:2 / 20 / 3 / 21;" data-v-17439d13>\u5341</div><div style="grid-area:2 / 21 / 3 / 22;" data-v-17439d13>\u4E07</div><div style="grid-area:2 / 22 / 3 / 23;" data-v-17439d13>\u5343</div><div style="grid-area:2 / 23 / 3 / 24;" data-v-17439d13>\u767E</div><div style="grid-area:2 / 24 / 3 / 25;" data-v-17439d13>\u5341</div><div style="grid-area:2 / 25 / 3 / 26;" data-v-17439d13>\u5143</div><div style="grid-area:2 / 26 / 3 / 27;" data-v-17439d13>\u89D2</div><div style="grid-area:2 / 27 / 3 / 28;" data-v-17439d13>\u5206</div><div style="grid-area:1 / 28 / 8 / 29;" data-v-17439d13>\u5907\u6CE8</div><div style="grid-area:8 / 28 / 17 / 29;" data-v-17439d13>\u9886\u5BFC\u5BA1\u6279</div>',14),Te=["contenteditable"],Ae=["contenteditable"],Be=["contenteditable","onBlur"],Ee=["contenteditable","onBlur"],Ne=["contenteditable","onBlur"],fe=["contenteditable","onBlur"],ce=["contenteditable","onBlur"],ke=["contenteditable","onBlur"],Fe=["contenteditable","onBlur"],Le=["contenteditable","onBlur"],Ce=["contenteditable","onBlur"],_e=["contenteditable","onBlur"],Ke=["contenteditable","onBlur"],Se=R(()=>i("div",{style:{"grid-area":"15/1/17/19"}},"\u5408\xA0\xA0\xA0\xA0\u8BA1",-1)),we={style:{"grid-area":"15 / 19 / 17 / 20"}},De={style:{"grid-area":"15 / 20 / 17 / 21"}},Me={style:{"grid-area":"15 / 21 / 17 / 22"}},Ie={style:{"grid-area":"15 / 22 / 17 / 23"}},Re={style:{"grid-area":"15 / 23 / 17 / 24"}},Oe={style:{"grid-area":"15 / 24 / 17 / 25"}},He={style:{"grid-area":"15 / 25 / 17 / 26"}},Ue={style:{"grid-area":"15 / 26 / 17 / 27"}},Ve={style:{"grid-area":"15 / 27 / 17 / 28"}},je={style:{"grid-area":"17/1/19/19"}},Ze=R(()=>i("div",{style:{width:"66px"}},"\u4EBA\u6C11\u5E01\uFF08\u5927\u5199\uFF09",-1)),ze={style:{"font-size":"18px","font-family":"ZhiMangXing",flex:"1","letter-spacing":"3px","white-space":"nowrap"}},Ge={style:{"grid-area":"17/19/19/28"}},Xe=["contenteditable"],qe={style:{"grid-area":"17/28/19/37"}},Pe=["contenteditable"],We={class:"ticket-footer"},Ye=["contenteditable"],$e=["contenteditable"],Je=["contenteditable"],Qe=["contenteditable"],xe=["contenteditable"],s=3,et=ae({__name:"ticket-a5",props:{editable:{type:Boolean,default:!0},maxRow:{default:6},ticketNum:{},itemList:{},note:{},leaderNote:{},loanAmount:{},refundAmount:{},accounting:{},reviewer:{},cashier:{},reimburse:{},payee:{},ticketName:{},ticketKey:{},department:{default:"\u9879\u76EE\u5B9E\u65BD\u90E8"},fillDate:{default:"\u5E74\u6708\u65E5"}},setup(L){const Z=L,l=ie(),n=U(()=>Z.maxRow===6?2:1),h=U(()=>{let e=0;return Z.itemList.forEach(a=>{a!=null&&a.amount&&(e+=Number(a.amount))}),e}),Y=U(()=>$(h.value));function A(e=0,a,t="0"){let B=Math.floor(Number(e)),N=Number(e)-B;if(t=t===""?"0":t,a>0){let g=Math.max(B.toString().length,a),m=new Array(g).fill(0),c=B.toString().split("").reverse();for(let E=0;E<c.length;E++)m[E]=c[E];return m.reverse()[g-a]=t,Number(m.join(""))+N}else{let g=new Array(2).fill(0);for(let m=0;m<N.toString().split("").length;m++)g[m]=N.toString().split("")[m];return g[Math.abs(a)-1]=t,Number("0."+g.join(""))+B}}function v(e=0,a){return e==0?"":a<0?(e.toString().split(".")[1]||0).toString().split("")[Math.abs(a)-1]||0:Math.floor(Number(e)).toString().split("").reverse()[Math.abs(a)-1]}function $(e){let a=9999999999999e-2,t="\u96F6",B="\u58F9",N="\u8D30",g="\u53C1",m="\u8086",c="\u4F0D",E="\u9646",K="\u67D2",S="\u634C",w="\u7396",D="\u62FE",M="\u4F70",o="\u4EDF",u="\u4E07",J="\u4EBF",Q="",z="\u5143",x="\u89D2",ee="\u5206",te="\u6574",k,f,b,C,I,G,X,q,_,T,O,F,P,H;if(e=e.toString(),e==="")return"";if(e.match(/[^,.\d]/)!=null)return alert("\u8F93\u5165\u5305\u542B\u975E\u6CD5\u5B57\u7B26!"),"";if(e.match(/^((\d{1,3}(,\d{3})*(.((\d{3},)*\d{1,3}))?)|(\d+(.\d+)?))$/)==null)return alert("\u8F93\u5165\u6709\u8BEF!"),"";if(e=e.replace(/,/g,""),e=e.replace(/^0+/,""),Number(e)>a)return alert("\u6570\u989D\u592A\u5927\uFF0C\u8F6C\u6362\u91D1\u989D\u4E0A\u9650\u5C0F\u4E8E1\u5343\u4EBF!"),"";if(C=e.split("."),C.length>1?(k=C[0],f=C[1],f=f.substr(0,2)):(k=C[0],f=""),I=new Array(t,B,N,g,m,c,E,K,S,w),G=new Array("",D,M,o),X=new Array("",u,J),q=new Array(x,ee),b="",Number(k)>0){for(_=0,T=0;T<k.length;T++)O=k.length-T-1,F=k.substr(T,1),P=O/4,H=O%4,F=="0"?_++:(_>0&&(b+=I[0]),_=0,b+=I[Number(F)]+G[H]),H==0&&_<4&&(b+=X[P]);b+=z}if(f!="")for(T=0;T<f.length;T++)F=f.substr(T,1),F!="0"&&(b+=I[Number(F)]+q[T]);return b==""&&(b=t+z),f==""&&(b+=te),b=Q+b,b}return(e,a)=>(V(),j("div",re,[se,i("div",ve,[i("div",null,[me,i("span",{contenteditable:e.editable,onBlur:a[0]||(a[0]=t=>r(l).updThirdTicket(e.ticketKey,"department",t.target.innerText))},d(e.department),41,be)]),i("div",{contenteditable:e.editable,onBlur:a[1]||(a[1]=t=>r(l).updThirdTicket(e.ticketKey,"fillDate",t.target.innerText))},d(e.fillDate),41,ge),i("div",null,[p("\u5355\u636E\u53CA\u9644\u4EF6\u5171 "),i("span",{contenteditable:e.editable,onBlur:a[2]||(a[2]=t=>r(l).updThirdTicket(e.ticketKey,"ticketNum",t.target.innerText))},d(e.ticketNum),41,pe),p(" \u5F20 ")])]),i("div",ye,[he,i("div",{style:{"grid-area":"1 / 29 / 8 / 37","font-family":"MaShangZheng"},contenteditable:e.editable,onBlur:a[3]||(a[3]=t=>r(l).updThirdTicket(e.ticketKey,"note",t.target.innerText))},d(e.note),41,Te),i("div",{style:{"grid-area":"8 / 29 / 17 / 37","font-family":"MaShangZheng"},contenteditable:e.editable,onBlur:a[4]||(a[4]=t=>r(l).updThirdTicket(e.ticketKey,"leaderNote",t.target.innerText))},d(e.leaderNote),41,Ae),(V(!0),j(W,null,ne(e.maxRow,t=>{var B,N,g,m,c,E,K,S,w,D,M;return V(),j(W,null,[i("div",{style:y({gridArea:s+(t-1)*n.value+"/ 1 /"+(s+(t-1)*n.value+n.value)+" / 7"}),contenteditable:e.editable,onBlur:o=>r(l).updThirdList(e.ticketKey,t-1,"name",o.target.innerText)},d((B=e.itemList[t-1])==null?void 0:B.name),45,Be),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 7 /"+(s+(t-1)*n.value+n.value)+"/ 19"}),contenteditable:e.editable,onBlur:o=>r(l).updThirdList(e.ticketKey,t-1,"summary",o.target.innerText)},d((N=e.itemList[t-1])==null?void 0:N.summary),45,Ee),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 19 /"+(s+(t-1)*n.value+n.value)+"/20"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,7,o.target.innerText))}},d(v((g=e.itemList[t-1])==null?void 0:g.amount,7)),45,Ne),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 20 /"+(s+(t-1)*n.value+n.value)+"/21"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,6,o.target.innerText))}},d(v((m=e.itemList[t-1])==null?void 0:m.amount,6)),45,fe),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 21 /"+(s+(t-1)*n.value+n.value)+"/22"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,5,o.target.innerText))}},d(v((c=e.itemList[t-1])==null?void 0:c.amount,5)),45,ce),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 22 /"+(s+(t-1)*n.value+n.value)+"/23"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,4,o.target.innerText))}},d(v((E=e.itemList[t-1])==null?void 0:E.amount,4)),45,ke),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 23 /"+(s+(t-1)*n.value+n.value)+"/24"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,3,o.target.innerText))}},d(v((K=e.itemList[t-1])==null?void 0:K.amount,3)),45,Fe),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 24 /"+(s+(t-1)*n.value+n.value)+"/25"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,2,o.target.innerText))}},d(v((S=e.itemList[t-1])==null?void 0:S.amount,2)),45,Le),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 25 /"+(s+(t-1)*n.value+n.value)+"/26"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,1,o.target.innerText))}},d(v((w=e.itemList[t-1])==null?void 0:w.amount,1)),45,Ce),i("div",{style:y({gridArea:s+(t-1)*n.value+" / 26 /"+(s+(t-1)*n.value+n.value)+"/27"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,-1,o.target.innerText))}},d(v((D=e.itemList[t-1])==null?void 0:D.amount,-1)),45,_e),i("div",{style:y({gridArea:s+(t-1)*n.value+"/ 27 / "+(s+(t-1)*n.value+n.value)+"/28"}),contenteditable:e.editable,onBlur:o=>{var u;return r(l).updThirdList(e.ticketKey,t-1,"amount",A((u=e.itemList[t-1])==null?void 0:u.amount,-2,o.target.innerText))}},d(v((M=e.itemList[t-1])==null?void 0:M.amount,-2)),45,Ke)],64)}),256)),Se,i("div",we,d(v(h.value,7)),1),i("div",De,d(v(h.value,6)),1),i("div",Me,d(v(h.value,5)),1),i("div",Ie,d(v(h.value,4)),1),i("div",Re,d(v(h.value,3)),1),i("div",Oe,d(v(h.value,2)),1),i("div",He,d(v(h.value,1)),1),i("div",Ue,d(v(h.value,-1)),1),i("div",Ve,d(v(h.value,-2)),1),i("div",je,[Ze,i("div",ze,d(Y.value),1)]),i("div",Ge,[p("\u539F\u501F\u6B3E\uFF1A "),i("span",{contenteditable:e.editable,onBlur:a[5]||(a[5]=t=>r(l).updThirdTicket(e.ticketKey,"loanAmount",t.target.innerText)),style:{width:"50px"}},d(e.loanAmount),41,Xe),p("\u5143 ")]),i("div",qe,[p("\u5E94\u9000\uFF08\u8865\uFF09\u6B3E\uFF1A "),i("span",{contenteditable:e.editable,onBlur:a[6]||(a[6]=t=>r(l).updThirdTicket(e.ticketKey,"refundAmount",t.target.innerText)),style:{width:"50px"}},d(e.refundAmount),41,Pe),p("\u5143 ")])]),i("div",We,[i("div",null,[p("\u4F1A\u8BA1\u4E3B\u7BA1 "),i("div",{contenteditable:e.editable,onBlur:a[7]||(a[7]=t=>r(l).updThirdTicket(e.ticketKey,"accounting",t.target.innerText))},d(e.accounting),41,Ye)]),i("div",null,[p("\u590D\u6838 "),i("div",{contenteditable:e.editable,onBlur:a[8]||(a[8]=t=>r(l).updThirdTicket(e.ticketKey,"reviewer",t.target.innerText))},d(e.reviewer),41,$e)]),i("div",null,[p("\u51FA\u7EB3 "),i("div",{contenteditable:e.editable,onBlur:a[9]||(a[9]=t=>r(l).updThirdTicket(e.ticketKey,"cashier",t.target.innerText))},d(e.cashier),41,Je)]),i("div",null,[p("\u62A5\u9500\u4EBA "),i("div",{contenteditable:e.editable,onBlur:a[10]||(a[10]=t=>r(l).updThirdTicket(e.ticketKey,"reimburse",t.target.innerText))},d(e.reimburse),41,Qe)]),i("div",null,[p("\u9886\u6B3E\u4EBA "),i("div",{contenteditable:e.editable,onBlur:a[11]||(a[11]=t=>r(l).updThirdTicket(e.ticketKey,"payee",t.target.innerText))},d(e.payee),41,xe)])])]))}});var at=de(et,[["__scopeId","data-v-17439d13"]]);export{at as T};
